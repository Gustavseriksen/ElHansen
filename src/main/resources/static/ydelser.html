<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ydelser - EL-Hansen</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="container">
    <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
        <a href="index.html" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">
            <span class="fs-4 fw-bold">EL-Hansen</span>
        </a>

        <ul class="nav nav-pills">
            <li class="nav-item"><a href="ydelser.html" class="nav-link" aria-current="page">Ydelser</a></li>
            <li class="nav-item"><a href="prisestimat.html" class="nav-link">Prisestimat</a></li>
            <li class="nav-item"><a href="kontakt.html" class="nav-link">Kontakt</a></li>
            <li class="nav-item"><a href="om.html" class="nav-link">Om</a></li>
        </ul>
    </header>
</div>

<div class="container py-5 text-center">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <h1 class="display-5 fw-bold mb-3">Det kan EL-hansen hjælpe dig med</h1>
            <p class="lead text-muted">Hos EL-hansen løser jeg en bred vifte af opgaver for både private og erhverv på hele Sjælland. Uanset om det er en lille reparation eller en større sikkerhedsopgradering, går jeg til opgaven med faglig stolthed og grundighed.</p>
        </div>
    </div>
</div>

<div class="container pb-5">
    <div id="servicesContainer" class="row row-cols-1 g-4">
        <div class="text-center w-100">
            <div class="spinner-border text-warning" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
    </div>
</div>

<div class="bg-dark text-white py-5">
    <div class="container text-center">
        <h3 class="fw-bold mb-3">Fandt du ikke det, du søgte?</h3>
        <p class="lead mb-4">Ovenstående er blot et udpluk. Jeg løser også opgaver som tilslutning af hvidevarer, etablering af byggestrøm og meget mere.</p>
        <p class="fs-5">Ring til Holger på tlf. <span class="fw-bold text-warning">36 15 45 00</span> – så tager vi en snak om din opgave.</p>
        <a href="kontakt.html" class="btn btn-warning btn-lg mt-3">Kontakt os her</a>
    </div>
</div>

<div class="container">
    <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
        <p class="col-md-4 mb-0 text-body-secondary">© 2025 EL-Hansen ApS</p>

        <ul class="nav col-md-4 justify-content-end">
            <li class="nav-item"><a href="om.html" class="nav-link px-2 text-body-secondary">Om</a></li>
            <li class="nav-item"><a href="kontakt.html" class="nav-link px-2 text-body-secondary">Kontakt</a></li>
        </ul>
    </footer>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
    const API_URL = "http://localhost:8080/api/ydelser";

    document.addEventListener("DOMContentLoaded", () => {
        fetchYdelser();
    });

    async function fetchYdelser() {
        try {
            const response = await fetch(API_URL);
            const ydelser = await response.json();
            const container = document.getElementById("servicesContainer");

            container.innerHTML = ""; // Fjern loading spinner

            if (ydelser.length === 0) {
                container.innerHTML = '<p class="text-center text-muted">Ingen ydelser at vise lige nu.</p>';
                return;
            }

            ydelser.forEach(ydelse => {
                const html = `
                <div class="col">
                    <div class="card h-100 shadow-sm border-0 bg-light">
                        <div class="card-body p-4">
                            <div class="d-inline-flex align-items-center justify-content-center bg-warning text-white fs-4 rounded-circle mb-3" style="width: 50px; height: 50px;">
                                <i class="bi ${ydelse.ikonNavn || 'bi-plug-fill'}"></i>
                            </div>
                            <h3 class="h4 card-title fw-bold">${ydelse.navn}</h3>
                            <p class="card-text">${ydelse.beskrivelse || 'Ingen beskrivelse tilgængelig.'}</p>

                            </div>
                    </div>
                </div>
                `;
                container.insertAdjacentHTML("beforeend", html);
            });

        } catch (error) {
            console.error("Fejl:", error);
            document.getElementById("servicesContainer").innerHTML = '<p class="text-center text-danger">Kunne ikke hente ydelser.</p>';
        }
    }
</script>

</body>
</html>